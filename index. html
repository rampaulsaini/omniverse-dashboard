<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Omniverse — Live Pages Dashboard</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--muted:#98a0b3;--accent:#60a5fa}
    html,body{height:100%;margin:0;padding:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;background:linear-gradient(180deg,#071025 0%, #081425 60%);color:#e6eef8}
    header{padding:18px 24px;border-bottom:1px solid rgba(255,255,255,0.03);display:flex;gap:12px;align-items:center}
    h1{margin:0;font-size:18px}
    .wrap{display:grid;grid-template-columns:380px 1fr;gap:18px;padding:18px}
    .left{min-height:80vh}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));border:1px solid rgba(255,255,255,0.03);padding:12px;border-radius:10px;margin-bottom:12px}
    .site{display:flex;gap:8px;align-items:flex-start}
    .site h3{margin:0;font-size:14px}
    .meta{font-size:12px;color:var(--muted);margin-top:6px}
    .preview{height:80vh;border-radius:8px;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}
    iframe{width:100%;height:100%;border:0}
    .controls{display:flex;gap:8px;align-items:center;margin-top:8px}
    button{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:6px 8px;border-radius:8px;color:#e6eef8;cursor:pointer}
    input{width:100%;padding:6px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#e6eef8}
    footer{padding:12px 18px;color:var(--muted);font-size:13px}
    .badge{background:rgba(255,255,255,0.03);padding:3px 7px;border-radius:999px;font-size:12px}
    .error{color:#ffb4b4}
    .analysis{font-size:13px;line-height:1.45;color:#d8e8ff}
  </style>
</head>
<body>
  <header>
    <div>
      <h1>Omniverse — Live pages dashboard</h1>
      <div style="font-size:12px;color:var(--muted)">यह पेज आपके GitHub Pages लिंक का live सारांश और preview दिखाता है</div>
    </div>
    <div style="margin-left:auto;display:flex;gap:8px;align-items:center">
      <div class="badge">Live previews</div>
      <div class="badge">GitHub API meta</div>
    </div>
  </header>

  <div class="wrap">
    <div class="left">
      <div class="card">
        <strong>Pages (fixed list)</strong>
        <div class="meta">कृपया नीचे दिए गए सभी pages के नाम चुने और preview के लिए क्लिक करें — यह version local-browser पर काम करता है (GitHub API public repos के लिए metadata भी लाएगा)</div>
      </div>

      <div id="sites"></div>

      <div class="card">
        <strong>Deep-analysis checklist (automatic + manual)</strong>
        <ol class="analysis">
          <li>README और repo description — स्पष्ट है या नहीं?</li>
          <li>Index page मौजूद है (index.html / index.md) — SEO और meta tags जांचें</li>
          <li>GitHub repo metadata — stars, forks, last pushed date, license</li>
          <li>CI/CD / workflow (GitHub Actions) और package manifests (package.json, requirements.txt)</li>
          <li>Accessibility basics — alt tags, semantic HTML, color contrast</li>
          <li>Performance hints — large images, unoptimized assets, usage of CDN</li>
          <li>Security — mixed content, external scripts, CSP absence</li>
          <li>Broken links, console errors — check in browser devtools</li>
        </ol>
      </div>

      <div class="card">
        <strong>Actions</strong>
        <div style="display:flex;gap:8px;margin-top:8px">
          <button id="refreshAll">Refresh all metadata</button>
          <button id="openAll">Open all in new tabs</button>
        </div>
      </div>

    </div>

    <div>
      <div class="card preview" id="previewCard">
        <iframe id="previewFrame" sandbox="allow-scripts allow-forms allow-same-origin"></iframe>
      </div>
      <div style="margin-top:8px;display:flex;gap:8px">
        <input id="selectedUrl" placeholder="Select a site from left to preview" readonly />
        <button id="reloadFrame">Reload preview</button>
      </div>
    </div>
  </div>

  <footer>
    नोट: मैं अभी आपके pages को server-side से fetch नहीं कर पाया। इस dashboard को अपने GitHub Pages repo पर host कर के लाइव देखें।<br>
    अगर आप चाहें तो मैं हर repo का in-depth analysis कर दूँ — बस मुझे repo का README, package manifests, और कोई खास फाइलें paste कर दें या इस repo के सार्वजनिक नाम बताइए।
  </footer>

  <script>
    // фиксированные ссылки, जो आपने भेजीं
    const urls = [
      "https://rampaulsaini.github.io/omniverse--ai-scripts-/",
      "https://rampaulsaini.github.io/Omniverse-AI/",
      "https://rampaulsaini.github.io/my-omniverse-store/",
      "https://rampaulsaini.github.io/Omniverse/",
      "https://rampaulsaini.github.io/Karbon-/",
      "https://rampaulsaini.github.io/Omniverse-/",
      "https://rampaulsaini.github.io/Koyab-Founding-Declaration-Omniversal-Manifesto/",
      "https://rampaulsaini.github.io/rampaulsaini/",
      "https://rampaulsaini.github.io/Omniverse-Platform-supreme-/",
      "https://rampaulsaini.github.io/kit-app-template/",
      "https://rampaulsaini.github.io/C-Labs/",
      "https://rampaulsaini.github.io/Omnivers/",
      "https://rampaulsaini.github.io/Omniver/"
    ];

    const sitesEl = document.getElementById('sites');
    const iframe = document.getElementById('previewFrame');
    const selectedUrl = document.getElementById('selectedUrl');

    function repoNameFromUrl(u){
      try{
        const p = new URL(u).pathname.replace(/^\/+|\/+$/g,'');
        // GitHub Pages often maps repo to first path segment
        const slug = p.split('/')[0] || 'rampaulsaini.github.io';
        return slug;
      }catch(e){return null}
    }

    function createSiteCard(url){
      const repo = repoNameFromUrl(url);
      const el = document.createElement('div');
      el.className = 'card site';
      el.innerHTML = `
        <div style="flex:1">
          <h3 title="${url}">${repo}</h3>
          <div class="meta" id="meta-${repo}">Loading metadata…</div>
          <div class="controls">
            <button data-url="${url}" class="previewBtn">Preview</button>
            <button data-url="${url}" class="openBtn">Open</button>
            <button data-repo="${repo}" class="metaBtn">Fetch repo metadata</button>
          </div>
        </div>
      `;
      sitesEl.appendChild(el);

      el.querySelector('.previewBtn').addEventListener('click', ()=>{
        selectedUrl.value = url;
        iframe.src = url;
      });
      el.querySelector('.openBtn').addEventListener('click', ()=>{
        window.open(url, '_blank');
      });
      el.querySelector('.metaBtn').addEventListener('click', ()=>{
        fetchRepoMeta(repo, url);
      });
    }

    function showMeta(repo, html){
      const el = document.getElementById('meta-'+repo);
      if(el) el.innerHTML = html;
    }

    async function fetchRepoMeta(repo, pageUrl){
      // assumes username is rampaulsaini
      const user = 'rampaulsaini';
      let repoName = repo;
      // if repo looks like user.github.io, map to user repo
      if(repo.toLowerCase().includes('github.io')) repoName = user + '.github.io';
      const api = `https://api.github.com/repos/${user}/${repoName}`;
      showMeta(repo, 'Fetching GitHub repo info...');
      try{
        const res = await fetch(api);
        if(!res.ok) throw new Error(res.status + ' ' + res.statusText);
        const data = await res.json();
        const html = `
          <div><strong>${data.full_name}</strong> • ${data.private? 'private' : 'public'}</div>
          <div class="meta">⭐ ${data.stargazers_count} • Forks: ${data.forks_count} • Updated: ${new Date(data.pushed_at).toLocaleString()}</div>
          <div class="meta">License: ${data.license?data.license.spdx_id:'none'} • Default branch: ${data.default_branch}</div>
          <div style="margin-top:6px"><a href="${data.html_url}" target="_blank">Open repo on GitHub</a> • <a href="${pageUrl}" target="_blank">Open site</a></div>
        `;
        showMeta(repo, html);
      }catch(err){
        showMeta(repo, `<span class="error">Could not fetch repo metadata: ${err.message}</span> <div class="meta">(If repo name is different from page slug, fetch will fail — update mapping)</div>`);
      }
    }

    // build list
    urls.forEach(u=>createSiteCard(u));

    document.getElementById('reloadFrame').addEventListener('click', ()=>{
      if(iframe.src) iframe.contentWindow.location.reload();
    });

    document.getElementById('refreshAll').addEventListener('click', ()=>{
      urls.forEach(u=>{
        const repo = repoNameFromUrl(u);
        fetchRepoMeta(repo, u);
      })
    });

    document.getElementById('openAll').addEventListener('click', ()=>{
      urls.forEach(u=>window.open(u,'_blank'));
    });

  </script>


  <!-- ADDITIONAL REPO FILES & TEMPLATES (START) -->
  <section style="padding:18px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);border-top:1px solid rgba(255,255,255,0.02)">
    <div style="max-width:980px;margin:0 auto;color:#d8e8ff">
      <h2 style="margin:6px 0">Repository structure & file templates</h2>
      <p class="meta">नीचे repo में रखने योग्य recommended files और templates दिए गए हैं — इन्हें copy/paste करके अपनी repo में डाल दें।</p>

      <h3>1) Recommended folder structure</h3>
      <pre style="background:#021225;padding:12px;border-radius:8px;overflow:auto">omniverse-dashboard/
 ├── index.html         ← (पहला, यही dashboard)
 ├── README.md          ← (project intro + usage)
 ├── assets/
 │    ├── logo.svg
 │    └── favicon.ico
 ├── scripts/
 │    └── health-check.js
 └── .github/
      └── workflows/
           └── pages.yml  ← (GitHub Pages deployment + optional checks)
</pre>

      <h3>2) README.md (template)</h3>
      <pre style="background:#021225;padding:12px;border-radius:8px;overflow:auto"># Omniverse Dashboard

This repository hosts a single-file **static dashboard** that aggregates and previews multiple GitHub Pages sites for the `rampaulsaini` account.

## Features
- Live iframe preview of configured pages
- Fetch GitHub repo metadata (stars, forks, last push, license)
- Buttons: refresh metadata, open all, reload preview

## How to use
1. Upload `index.html` to this repo's root.
2. Go to **Settings → Pages** and set the branch to `main` and folder to `/(root)`.
3. Visit `https://<your-user>.github.io/omniverse-dashboard/` to see the control center.

## Customize
- Edit `index.html` → `urls` array to add/remove pages.
- Adjust mapping in `repoNameFromUrl()` if your repo names differ from page slugs.
</pre>

      <h3>3) .github/workflows/pages.yml (template)</h3>
      <pre style="background:#021225;padding:12px;border-radius:8px;overflow:auto">name: Deploy GitHub Pages

on:
  push:
    branches:
      - main

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./
</pre>

      <h3>4) scripts/health-check.js (optional)</h3>
      <pre style="background:#021225;padding:12px;border-radius:8px;overflow:auto">/**
 * Simple fetch-based health check for each site — can be run in-browser (console) or in Node
 */
async function checkSites(urls){
  const results = [];
  for(const u of urls){
    try{
      const r = await fetch(u, {method:'HEAD', mode:'no-cors'});
      results.push({url:u, status: r.status || 'no-cors'})
    }catch(e){
      results.push({url:u, status: 'error', error: e.message || e});
    }
  }
  return results;
}

// Usage (in browser console): checkSites(["https://example.com"]).then(console.log);
</pre>

      <h3>5) favicon + logo</h3>
      <p class="meta">assets/logo.svg और assets/favicon.ico रखें — small 32×32 favicon और simple svg logo पर्याप्त है।</p>

      <h3>6) Quick deployment steps</h3>
      <ol class="analysis">
        <li>Create new repo named <code>omniverse-dashboard</code>.</li>
        <li>Copy `index.html`, `README.md`, `.github/workflows/pages.yml` और `scripts/health-check.js` (optional) को कॉमिट करें।</li>
        <li>Push to <code>main</code> branch.</li>
        <li>Enable GitHub Pages from repo settings → site will be available at <code>https://rampaulsaini.github.io/omniverse-dashboard/</code></li>
      </ol>

      <h3>7) Next improvements I can add (आपने पूछा था — मैं अभी कर सकता हूँ)</h3>
      <ul>
        <li>Auto-mapping UI — repo slug mismatch को handle करने के लिए small form</li>
        <li>Health-check panel with last-200ms/timeout flags</li>
        <li>Console error detector (requires headless browser on CI or remote check)</li>
        <li>Light/dark theme toggle + responsive layout tweaks</li>
      </ul>

      <p class="meta">यदि आप चाहें तो मैं इन templates को अलग-अलग files के रूप में यहाँ paste कर दूँ — या मैं आपके लिए GitHub-compatible zip बना कर दे सकता/दे सकती हूँ (आपके approval के बाद)।</p>
    </div>
  </section>

        <h3>8) .github/workflows/pages.yml (with lightweight audits)</h3>
      <pre style="background:#021225;padding:12px;border-radius:8px;overflow:auto">name: Deploy & Audit Pages

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: GITHUB_TOKEN_PLACEHOLDER
          publish_dir: ./

  audit:
    runs-on: ubuntu-latest
    needs: deploy
    steps:
      - uses: actions/checkout@v4
      - name: Setup Node
        uses: actions/setup-node@v4
        with: node-version: '18'
      - name: Install deps
        run: npm install node-fetch
      - name: Run link-check and analyze (example)
        run: node scripts/link-checker.js || true
</pre>

      <h3>9) Repo slug mapping suggestions</h3>
      <p class="meta">आपकी दिए हुए file-list से लगता है कि repo slugs कुछ इस तरह हो सकते हैं — पर सही mapping तभी आएगा जब आप हर GitHub repo का नाम confirm कर दें। (उदाहरण mapping)</p>
      <pre style="background:#021225;padding:12px;border-radius:8px;overflow:auto">// suggested manual map (in index.html -> repoNameFromUrl)
const repoMap = {
  'omniverse--ai-scripts-': 'Omniverse-AI-scripts',
  'Omniverse-AI': 'Omniverse-AI',
  'my-omniverse-store': 'my-omniverse-store',
  'Omniverse': 'Omniverse',
  'Karbon-': 'Karbon',
  'Omniverse-': 'Omniverse-',
  'Koyab-Founding-Declaration-Omniversal-Manifesto': 'Koyab-Founding-Declaration-Omniversal-Manifesto',
  'rampaulsaini': 'rampaulsaini.github.io',
  'Omniverse-Platform-supreme-': 'Omniverse-Platform-supreme',
  'kit-app-template': 'kit-app-template',
  'C-Labs': 'C-Labs',
  'Omnivers': 'Omnivers',
  'Omniver': 'Omniver'
};
</pre>

      <h3>10) Next steps — मैं क्या कर सकता/सकती हूँ अभी</h3>
      <ol class="analysis">
        <li>यदि आप चाहें तो मैं इन scripts को अलग-अलग फ़ाइलों के रूप में यहाँ generate करके दे दूँ (आप कहें तो ZIP भी बना दूँ)।</li>
        <li>मैं एक automated audit report टेम्पलेट बना सकता/सकती हूँ जो हर repo के लिए CSV/JSON आउटपुट दे — इसे CI में रन करवा सकते हैं।</li>
        <li>अगर आप repo के exact public names दे दें, मैं dashboard की `repoMap` और `urls` array को auto-fill कर दूँ और metadata fetch को validate कर दूँ।</li>
      </ol>

      <p class="meta">यदि आप चाहते हैं मैं अभी आपके लिए अलग-अलग script files generate कर दूँ और यहाँ paste कर दूँ — बताइए कौन से files पहले चाहिए (उदाहरण: <code>scripts/metadata-fetcher.js</code>, <code>scripts/link-checker.js</code>, <code>scripts/analyze.js</code>)।</p>
    </div>
  </section>

  <!-- ADDITIONAL REPO FILES & TEMPLATES (END) -->

</body>
</html>
